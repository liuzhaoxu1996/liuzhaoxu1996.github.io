(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{424:function(t,a,s){"use strict";s.r(a);var n=s(25),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"react题目汇总"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react题目汇总"}},[t._v("#")]),t._v(" React题目汇总")]),t._v(" "),s("h2",{attrs:{id:"如何配置-react-router-实现路由切换"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何配置-react-router-实现路由切换"}},[t._v("#")]),t._v(" 如何配置 React-Router 实现路由切换")]),t._v(" "),s("p",[t._v("公司：阿里、滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("主要通过3个api实现：")]),t._v(" "),s("ul",[s("li",[t._v("路由器："),s("code",[t._v("BrowserRouter")]),t._v(" 或者 "),s("code",[t._v("HashRouter")]),t._v("：负责感知路由的变化并做出反应\n"),s("ul",[s("li",[s("code",[t._v("BrowserRouter")]),t._v("使用的是 history api 来实现的")]),t._v(" "),s("li",[s("code",[t._v("HashRouter")]),t._v("使用的是 hash api 实现的")])])]),t._v(" "),s("li",[t._v("路由："),s("code",[t._v("Route")]),t._v(" 和 "),s("code",[t._v("Switch")]),t._v("：负责定义路径与组件之间的映射关系")]),t._v(" "),s("li",[t._v("导航："),s("code",[t._v("Link")]),t._v("、"),s("code",[t._v("NavLink")]),t._v("、"),s("code",[t._v("Redirect")]),t._v("：负责触发路径的改变")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("前端路由解决了什么问题？")]),t._v(" "),s("p",[t._v("前端路由可以帮助我们在仅有一个页面的情况下，记住用户当前走到了哪一步")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("hash 和 history？")]),t._v(" "),s("p",[t._v("hash：")]),t._v(" "),s("ol",[s("li",[t._v("通过 "),s("code",[t._v("window.location.hash = 'index'")]),t._v(" 设置 hash")]),t._v(" "),s("li",[t._v("通过监听 "),s("code",[t._v("hashchange")]),t._v(" 事件，来渲染对应的页面")])]),t._v(" "),s("p",[t._v("history：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("window.history.forward()")]),t._v(": 前进")]),t._v(" "),s("li",[s("code",[t._v("window.history.back()")]),t._v(": 后退")]),t._v(" "),s("li",[s("code",[t._v("window.history.go(2)")]),t._v(": 前进两页")]),t._v(" "),s("li",[s("code",[t._v("window.history.go(-2)")]),t._v(": 后退两页")]),t._v(" "),s("li",[s("code",[t._v("history.pushState(data[,title][,url])")]),t._v(": 向浏览历史中追加一条记录")]),t._v(" "),s("li",[s("code",[t._v("history.replaceState(data[,title][,url])")]),t._v(": 修改替换当前浏览历史中的信息")]),t._v(" "),s("li",[t._v("通过监听 "),s("code",[t._v("popState")]),t._v(" 来监听页面历史记录数组的变化（"),s("code",[t._v("pushState")]),t._v(" 和 "),s("code",[t._v("replaceState")]),t._v("不会触发）")])])]),t._v(" "),s("h2",{attrs:{id:"react-路由的动态加载模块-实现按需加载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-路由的动态加载模块-实现按需加载"}},[t._v("#")]),t._v(" React 路由的动态加载模块，实现按需加载")]),t._v(" "),s("p",[t._v("公司：阿里")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-2"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[t._v("import()")]),t._v(" "),s("li",[t._v("React.lazy")]),t._v(" "),s("li",[t._v("React.Suspense")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("lazy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Suspense"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" DemoComp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./DemoComp"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense fallback"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("loading"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"demo"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("DemoComp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Switch"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("next 中的 动态加载")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" dynamic "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"next/dynamic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" comp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dynamic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"../components/comp"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"多个组件之间如何拆分各自的-state-每块小的组件有自己的状态-它们之间还有一些公共的状态需要维护-这如何思考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#多个组件之间如何拆分各自的-state-每块小的组件有自己的状态-它们之间还有一些公共的状态需要维护-这如何思考"}},[t._v("#")]),t._v(" 多个组件之间如何拆分各自的 state，每块小的组件有自己的状态，它们之间还有一些公共的状态需要维护，这如何思考")]),t._v(" "),s("p",[t._v("公司：阿里")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h4",{attrs:{id:"答案-解析-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-3"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("状态提升\nstate 都是首先添加到需要渲染数据的组件中去。然后，如果其他组件也需要这个 state，那么你可以将它提升至这些组件的最近共同父组件中。你应当依靠自上而下的数据流，而不是尝试在不同组件间同步 state。")]),t._v(" "),s("h2",{attrs:{id:"react-项目中有哪些细节可以优化-实际开发中都做过哪些性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-项目中有哪些细节可以优化-实际开发中都做过哪些性能优化"}},[t._v("#")]),t._v(" React 项目中有哪些细节可以优化？实际开发中都做过哪些性能优化")]),t._v(" "),s("p",[t._v("公司：滴滴、掌门一对一、网易、有赞、沪江、喜马拉雅、酷家乐、快手")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-4"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[t._v("使用 shouldComponentUpdate 规避冗余的更新逻辑")]),t._v(" "),s("li",[t._v("PureComponent + immutable.js库")]),t._v(" "),s("li",[t._v("React.memo 与 useMemo (函数版的shouldComponentUpdate)")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("shouldComponentUpdate")]),t._v(" "),s("p",[t._v("React组件会根据 shouldComponentUpdate 的返回值来决定是否执行该方法之后的生命周期，进而决定是否对组件进行 re-render（重渲染）")]),t._v(" "),s("ul",[s("li",[t._v("只要父组件更新，那么子组件会被无条件更新")]),t._v(" "),s("li",[t._v("自身使用 setState 不管前后状态内容是否发生了变化，它都会走一遍更新流程")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在组件中添加 shouldComponentUpdate")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shouldComponentUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" nextState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断 text 属性在父组件更新前后是否发生变化，若没有发生变化，则返回 false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("nextProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("PureComponent")]),t._v(" "),s("p",[t._v("PureComponent将会在shouldComponentUpdate中对组件前后 props 和 state 进行浅比较，并根据结果，决定是否要继续更新。")]),t._v(" "),s("p",[t._v("但对象是看引用是否变化，若数据内容没变，则会进行一次无用的刷新，反之，则会阻断一次更新， immutable.js 每次修改都会返回一个新的对象，这样就解决了引用与数据的问题")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 继承 React.PureComponent 就可以避免写 shouldComponentUpdate")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ChildB")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PureComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("React.memo")]),t._v(" "),s("p",[t._v("React.memo(组件[,对比逻辑])"),s("br"),t._v("\nuseMemo(() => {\ncomputeExpensiveValue(a, b)\n}, [a,b])")]),t._v(" "),s("ol",[s("li",[t._v("React.memo 控制是否需要重新渲染一个组件")]),t._v(" "),s("li",[t._v("useMemo 控制的则是是否需要重复执行某一段逻辑")])])]),t._v(" "),s("h2",{attrs:{id:"react-最新版本解决了什么问题-加了哪些东西"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-最新版本解决了什么问题-加了哪些东西"}},[t._v("#")]),t._v(" react 最新版本解决了什么问题 加了哪些东西")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-5"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-5"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("React 16.x的三大新特性 Time Slicing、Suspense、 hooks")]),t._v(" "),s("ul",[s("li",[t._v("Time Slicing（解决CPU速度问题）使得在执行任务的期间可以随时暂停，跑去干别的事情，这个特性使得react能在性能极其差的机器跑时，仍然保持有良好的性能")]),t._v(" "),s("li",[t._v("Suspense （解决网络IO问题） 和lazy配合，实现异步加载组件。 能暂停当前组件的渲染， 当完成某件事以后再继续渲染，解决从react出生到现在都存在的「异步副作用」的问题，而且解决得非的优雅，使用的是 T异步但是同步的写法，这是最好的解决异步问题的方式")]),t._v(" "),s("li",[t._v("提供了一个内置函数componentDidCatch，当有错误发生时，可以友好地展示 fallback 组件; 可以捕捉到它的子元素（包括嵌套子元素）抛出的异常; 可以复用错误组件。")])]),t._v(" "),s("p",[t._v("React16.8 加入hooks，让React函数式组件更加灵活，hooks之前，React存在很多问题：")]),t._v(" "),s("ul",[s("li",[t._v("在组件间复用状态逻辑很难")]),t._v(" "),s("li",[t._v("复杂组件变得难以理解，高阶组件和函数组件的嵌套过深。")]),t._v(" "),s("li",[t._v("class组件的this指向问题")]),t._v(" "),s("li",[t._v("难以记忆的生命周期")])]),t._v(" "),s("p",[t._v("hooks很好的解决了上述问题，hooks提供了很多方法")]),t._v(" "),s("ul",[s("li",[t._v("useState 返回有状态值，以及更新这个状态值的函数")]),t._v(" "),s("li",[t._v("useEffect 接受包含命令式，可能有副作用代码的函数。")]),t._v(" "),s("li",[t._v("useContext 接受上下文对象（从 React.createContext返回的值）并返回当前上下文值，")]),t._v(" "),s("li",[t._v("useReducer useState 的替代方案。接受类型为 （state，action）=> newState的reducer，并返回与dispatch方法配对的当前状态。")]),t._v(" "),s("li",[t._v("useCalLback 返回一个回忆的memoized版本，该版本仅在其中一个输入发生更改时才会更改。纯函数的输入输出确定性")]),t._v(" "),s("li",[t._v("useMemo 纯的一个记忆函数 o useRef 返回一个可变的ref对象，其Current 属性被初始化为传递的参数，返回的 ref 对象在组件的整个生命周期内保持不变。")]),t._v(" "),s("li",[t._v("useImperativeMethods 自定义使用ref时公开给父组件的实例值")]),t._v(" "),s("li",[t._v("useMutationEffect 更新兄弟组件之前，它在React执行其DOM改变的同一阶段同步触发")]),t._v(" "),s("li",[t._v("useLayoutEffect DOM改变后同步触发。使用它来从DOM读取布局并同步重新渲染")])]),t._v(" "),s("p",[t._v('React16.9\n重命名 Unsafe 的生命周期方法。新的 UNSAFE_前缀将有助于在代码 review 和 debug 期间，使这些有问题的字样更突出\n废弃 javascrip:形式的 URL。以javascript:开头的URL 非常容易遭受攻击，造成安全漏洞。\n废弃"Factory"组件。 工厂组件会导致 React 变大且变慢。\nact（）也支持异步函数，并且你可以在调用它时使用 await。\n使用 '),s("code",[t._v("<React.ProfiLer>")]),t._v(" 进行性能评估。在较大的应用中追踪性能回归可能会很方便")]),t._v(" "),s("p",[t._v("React16.13.0\n支持在渲染期间调用setState，但仅适用于同一组件\n可检测冲突的样式规则并记录警告\n废弃 unstable_createPortal，使用CreatePortal\n将组件堆栈添加到其开发警告中，使开发人员能够隔离bug并调试其程序，这可以清楚地说明问题所在，并更快地定位和修复错误。")]),t._v(" "),s("h2",{attrs:{id:"react-事件绑定原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-事件绑定原理"}},[t._v("#")]),t._v(" React 事件绑定原理")]),t._v(" "),s("p",[t._v("公司：滴滴、沪江")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-6"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("React并不是将click事件绑定到了div的真实DOM上，而是在document处监听了所有的事件，当事件发生并且冒泡到document处的时候，React将事件内容封装并交由真正的处理函数运行。这样的方式不仅仅减少了内存的消耗，还能在组件挂在销毁时统一订阅和移除事件。\n除此之外，冒泡到document上的事件也不是原生的浏览器事件，而是由react自己实现的合成事件（SyntheticEvent）。因此如果不想要是事件冒泡的话应该调用"),s("code",[t._v("event.preventDefault()")]),t._v("方法，而不是调用"),s("code",[t._v("event.stopProppagation()")]),t._v("方法。")]),t._v(" "),s("p",[t._v("JSX 上写的事件并没有绑定在对应的真实 DOM 上，而是通过事件代理的方式，将所有的事件都统一绑定在了 document 上。这样的方式不仅减少了内存消耗，还能在组件挂载销毁时统一订阅和移除事件。")]),t._v(" "),s("p",[t._v("另外冒泡到 document 上的事件也不是原生浏览器事件，而是 React 自己实现的合成事件（SyntheticEvent）。因此我们如果不想要事件冒泡的话，调用 "),s("code",[t._v("event.stopPropagation")]),t._v(" 是无效的，而应该调用 "),s("code",[t._v("event.preventDefault")]),t._v("。")]),t._v(" "),s("p",[t._v("实现合成事件的目的如下：")]),t._v(" "),s("ul",[s("li",[t._v("合成事件首先抹平了浏览器之间的兼容问题，另外这是一个跨浏览器原生事件包装器，赋予了跨浏览器开发的能力；")]),t._v(" "),s("li",[t._v("对于原生浏览器事件来说，浏览器会给监听器创建一个事件对象。如果你有很多的事件监听，那么就需要分配很多的事件对象，造成高额的内存分配问题。但是对于合成事件来说，有一个事件池专门来管理它们的创建和销毁，当事件需要被使用时，就会从池子中复用对象，事件回调结束后，就会销毁事件对象上的属性，从而便于下次复用事件对象。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("React的事件和普通的HTML事件有什么不同？")]),t._v(" "),s("p",[t._v("区别：")]),t._v(" "),s("ul",[s("li",[t._v("对于事件名称命名方式，原生事件为全小写，react 事件采用小驼峰；")]),t._v(" "),s("li",[t._v("对于事件函数处理语法，原生事件为字符串，react 事件为函数；")]),t._v(" "),s("li",[t._v("react 事件不能采用 return false 的方式来阻止浏览器的默认行为，而必须要地明确地调用"),s("code",[t._v("preventDefault()")]),t._v("来阻止默认行为。")])]),t._v(" "),s("p",[t._v("合成事件是 react 模拟原生 DOM 事件所有能力的一个事件对象，其优点如下：")]),t._v(" "),s("ul",[s("li",[t._v("兼容所有浏览器，更好的跨平台；")]),t._v(" "),s("li",[t._v("将事件统一存放在一个数组，避免频繁的新增与删除（垃圾回收）。")]),t._v(" "),s("li",[t._v("方便 react 统一管理和事务机制。")]),t._v(" "),s("li",[t._v("事件的执行顺序为原生事件先执行，合成事件后执行，合成事件会冒泡绑定到 document 上，所以尽量避免原生事件与合成事件混用，如果原生事件阻止冒泡，可能会导致合成事件不执行，因为需要冒泡到document 上合成事件才会执行。")])])]),t._v(" "),s("h2",{attrs:{id:"react-组件通信方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-组件通信方式"}},[t._v("#")]),t._v(" React 组件通信方式")]),t._v(" "),s("p",[t._v("公司：滴滴、掌门一对一、喜马拉雅、蘑菇街")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/31",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[t._v("父 -> 子：通过 props")]),t._v(" "),s("li",[t._v("子 -> 父：父组件通过给子组件传递一个绑定自身上下文的函数，子组件通过调用该函数将数据与参数的方式传递给父组件")]),t._v(" "),s("li",[t._v("兄弟之间：即没有任何包含关系的组件，包括兄弟组件以及不在同一个父级中的非兄弟组件。\n"),s("ul",[s("li",[t._v("可以使用自定义事件通信（发布订阅模式）")]),t._v(" "),s("li",[t._v("可以通过redux等进行全局状态管理")]),t._v(" "),s("li",[t._v("如果是兄弟组件通信，可以找到这两个兄弟节点共同的父节点, 结合父子间通信方式进行通信。")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("context")]),t._v(" "),s("p",[t._v("Consumer 不仅能够读取 Provider 下发的数据，还能读取到这些数据后续的更新")]),t._v(" "),s("ul",[s("li",[t._v("React.createContext")]),t._v(" "),s("li",[t._v("Provider")]),t._v(" "),s("li",[t._v("Consumer")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" AppContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createContext")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Consumer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" AppContext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 父组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Provider value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Provider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 子组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Consumer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Consumer"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("手写 eventEmitter")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("myEventEmitter")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eventMap 用来存储事件和监听函数之间的关系")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// type 这里就代表事件的名称")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hanlder 必须是一个函数，如果不是直接报错")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("handler "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"请传一个函数"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 判断 type 事件对应的队列是否存在")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若不存在，新建该队列")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 若存在，直接往队列里推入 handler")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 别忘了我们前面说过触发时是可以携带数据的，params 就是数据的载体")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("emit")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" params")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 假设该事件是有订阅的（对应的事件队列存在）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将事件队列里的 handler 依次执行出队")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注意别忘了读取 params")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("off")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handler")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("eventMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexOf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("handler"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"为什么会有-react-hooks-它解决了什么问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么会有-react-hooks-它解决了什么问题"}},[t._v("#")]),t._v(" 为什么会有 React Hooks，它解决了什么问题？")]),t._v(" "),s("p",[t._v("class 组件的问题：")]),t._v(" "),s("ul",[s("li",[t._v("大型组件很难拆分和重构")]),t._v(" "),s("li",[t._v("相同业务逻辑，可能要在多个生命周期勾子中调用，逻辑比较混乱")]),t._v(" "),s("li",[t._v("复用逻辑变得复杂，入 Mixins，HOC，RenderProp")])]),t._v(" "),s("p",[t._v("函数组件更灵活、易拆分、易测试，但函数组件没有 state、生命周期，需要 hooks")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("函数组件")]),t._v(" "),s("ul",[s("li",[t._v("默认函数组件没有 state")]),t._v(" "),s("li",[t._v("函数组件是一个纯函数，执行完即销毁，无法存储 state")]),t._v(" "),s("li",[t._v("没有生命周期，通过 useEffect 来模拟 DidMount 和 DidUpdate, 通过 "),s("code",[t._v("return () => {}")]),t._v(" 来模拟 "),s("code",[t._v("willUnMount")])])])]),t._v(" "),s("h2",{attrs:{id:"react-hooks-如何模拟组件生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-hooks-如何模拟组件生命周期"}},[t._v("#")]),t._v(" React Hooks 如何模拟组件生命周期？")]),t._v(" "),s("p",[t._v("useEffect 模拟 componentDidMount 和 componentDidUpdate 和 componentWillUnmount")]),t._v(" "),s("h2",{attrs:{id:"如何自定义-hook"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何自定义-hook"}},[t._v("#")]),t._v(" 如何自定义 Hook？")]),t._v(" "),s("p",[t._v("1.引入react和自己需要的hook\n2.创建自己的hook函数\n3.返回一个数组,数组中第一个内容是数据,第二是修改数据的函数\n4.将自己定义的hook暴露出去\n5.在自己的业务组件中引入并使用")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("useEffect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如何模拟数据接口请求功能")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useLoadData")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("setNum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rrr'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setNum")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setNum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"react-hooks-性能优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-hooks-性能优化"}},[t._v("#")]),t._v(" React Hooks 性能优化？")]),t._v(" "),s("ul",[s("li",[t._v("useMemo")]),t._v(" "),s("li",[t._v("useCalLback")])]),t._v(" "),s("h2",{attrs:{id:"使用-react-hooks-遇到哪些坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-react-hooks-遇到哪些坑"}},[t._v("#")]),t._v(" 使用 React Hooks 遇到哪些坑？")]),t._v(" "),s("ul",[s("li",[t._v("不要在循环，条件或嵌套函数中调用 Hook， 确保总是在你的 React 函数的最顶层以及任何 return 之前调用他们")]),t._v(" "),s("li",[t._v("使用函数的方式来更新状态, 例如：count 初始值是0，多次执行 "),s("code",[t._v("setCount(count + 1)")]),t._v(", 因为状态变量只会在下一次渲染才会更新，所以每次取到的 count 都是 0，得到结果是 1，不是 3，所以使用"),s("code",[t._v("setCount(count => count + 1)")])]),t._v(" "),s("li",[t._v("不要忘记清理副作用, 比如在 useEffect 的 return 清理 setTimeout")]),t._v(" "),s("li",[t._v("useState 初始化值，只有第一次有效, 比如初始化值是父组件传递的 props，props 更新，初始值也不会更新")]),t._v(" "),s("li",[t._v("useEffect 闭包陷阱, 依赖为[]时，react 重新 render，effect 内部函数并不会执行，获取的state值是不对的。")])]),t._v(" "),s("h2",{attrs:{id:"如何解决-react-hooks-中的闭包陷阱"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何解决-react-hooks-中的闭包陷阱"}},[t._v("#")]),t._v(" 如何解决 React Hooks 中的闭包陷阱？")]),t._v(" "),s("ul",[s("li",[t._v("使用回调函数赋值")]),t._v(" "),s("li",[t._v("使用 useRef")]),t._v(" "),s("li",[t._v("使用 useReducer")])]),t._v(" "),s("h3",{attrs:{id:"使用回调函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用回调函数"}},[t._v("#")]),t._v(" 使用回调函数")]),t._v(" "),s("p",[t._v("当我们使用 setState 时，新的 state 如果是通过计算旧的 state 得出，那么我们可以将回调函数当作参数传递给 setState。该回调函数将接收先前的 state，并返回一个更新后的值：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useRef "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" c "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearInterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" App\n")])])]),s("h3",{attrs:{id:"使用-useref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-useref"}},[t._v("#")]),t._v(" 使用 useRef")]),t._v(" "),s("p",[t._v("同一个 ref 在 React 组件的整个生命周期中只存在一个引用，因此通过 current 永远是可以访问到引用中最新的函数值，不会存在闭包陈旧值的问题。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useEffect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useRef "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" countRef "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 模拟 DidMount")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定时任务")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" timer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'setInterval...'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" countRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("countRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 清除定时任务")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("clearTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 依赖为 []，re-render 不会重新执行 effect 函数")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" App\n")])])]),s("h3",{attrs:{id:"使用-usereducer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-usereducer"}},[t._v("#")]),t._v(" 使用 useReducer")]),t._v(" "),s("p",[t._v("利用 useReducer 获取的dispatch方法在组件的生命周期中保持唯一引用，并且总是能操作到最新的值：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("useEffect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useReducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" initialCount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("reducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'decrement'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throw")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dispatch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReducer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" initialCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'increment'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" App\n")])])]),s("h2",{attrs:{id:"hooks-相比-hoc-和-render-prop-有哪些有点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hooks-相比-hoc-和-render-prop-有哪些有点"}},[t._v("#")]),t._v(" Hooks 相比 HOC 和 Render Prop 有哪些有点？")]),t._v(" "),s("p",[t._v("HOC / Render Props / Hooks 三种写法都可以提高代码的复用性，但实现方法不同：HOC 是对传入的组件进行增强后，返回新的组件给开发者；Render Props 是指将一个返回 React 组件的函数，作为 prop 传给另一个 React 组件的共享代码的技术；Hooks 是 React 提供的一组 API，使开发者可以在不编写 class 的情况下使用 state 和其他 React 特性。")]),t._v(" "),s("ul",[s("li",[t._v("复用性\nHOC、Render Props、Hooks 都有提高代码复用性的能力，但根据其设计模式上的差别，适用范围也会有所差异：HOC 基于单一功能原则，对传入组件进行增强；Render Props 复用数据源，按需渲染 UI；Hooks 对于不同场景的复用都有较好的普适性。")]),t._v(" "),s("li",[t._v("可读性 / 易用性\n"),s("ul",[s("li",[t._v("HOC 可读性差，易用性差。HOC 写法看似简洁，但开发者无法通过阅读 HOC 的调用辨别出方法的作用：看不到接收和返回的结构，增加调试和修复问题的成本；进行多个 HOC 组合使用时，不能确定使用顺序且有命名空间冲突风险，需要了解每个 HOC 的具体实现，难以维护。不建议过度使用 HOC，但比较适合不需要个性化开发定制时使用：常见于第三方库提供 HOC 类型的 API 给开发者进行功能增强。")]),t._v(" "),s("li",[t._v("Render Props 可读性较好，易用性强。代码相对冗长，但能清晰看到组件接收的 props 以及传递的功能等，可以对 props 属性重命名，不会有命名冲突。但难以在 render 函数外使用数据源，且容易形成嵌套地狱。")]),t._v(" "),s("li",[t._v("Hooks 可读性强，易用性较好。使用 Hooks 时，能清晰看到组件接收的 props 以及传递的功能等，可以对 props 属性重命名，不会有命名冲突，不存在嵌套地狱，且没有数据源获取及使用范围的限制。但 Hooks 编程应遵循函数式编程的实践，否则 Hooks 所需的依赖数组的处理会造成较大的心智负担。")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("知识点")]),t._v(" "),s("ol",[s("li",[t._v("HOC （Higher Order Component，即高阶组件）\nHOC 是 React 中复用代码的编程模式。具体来说，高阶组件是一个纯函数，它接收一个组件并返回一个新的组件。常见例子：React Redux 的 connect，将 Redux Store 和 React 组件联系起来。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// react-redux connect 例子")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ConnectedMyComponent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("MyComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实现一个简单的 HOC 例子")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("WrappedComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("extends")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("prevProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Current props: "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Previous props: "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" prevProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("WrappedComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Render Props\nRender Props 是 React 中复用代码的编程模式。主要解决组件逻辑相同而渲染规则不同的复用问题。常见例子：React Router 中，自定义 render 函数，按需使用 routeProps 来渲染业务组件。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route\n      path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/home"')]),t._v("\n      render"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("routeProps")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Customize "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HZFE")]),t._v("'s "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("routeProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Router"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  node\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("React Hooks\nReact Hooks 是 React 16.8 引入的一组 API。开发者可以在不使用 class 写法的情况下，借助 Hooks 在纯函数组件中使用状态和其他 React 功能。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Example")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("You clicked "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" times"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("p"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Click me"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"说一下-react-setstate-原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下-react-setstate-原理"}},[t._v("#")]),t._v(" 说一下 React setState 原理")]),t._v(" "),s("p",[t._v("公司：网易")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/223",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"说一下-react-diff-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下-react-diff-算法"}},[t._v("#")]),t._v(" 说一下 React diff 算法")]),t._v(" "),s("p",[t._v("公司：脉脉")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/222",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"说一下-react-生命周期-以及都有哪些改变-为什么去掉了那几个旧的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下-react-生命周期-以及都有哪些改变-为什么去掉了那几个旧的生命周期"}},[t._v("#")]),t._v(" 说一下 React 生命周期，以及都有哪些改变，为什么去掉了那几个旧的生命周期")]),t._v(" "),s("p",[t._v("公司：完美世界、高德、脉脉、有赞、挖财、沪江、携程、喜马拉雅、酷家乐")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-7"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-7"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[t._v("react老版本中：\n"),s("img",{attrs:{src:"https://img-blog.csdnimg.cn/20200702114631693.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTE3NDgzMTk=,size_16,color_FFFFFF,t_70",alt:""}})])]),t._v(" "),s("p",[t._v("react旧版生命周期包含三个过程：")]),t._v(" "),s("p",[t._v("1、挂载过程\nconstructor()\ncomponentWillMount()\ncomponentDidMount()")]),t._v(" "),s("p",[t._v("2、更新过程\ncomponentWillReceiveProps(nextProps)\nshouldComponentUpdate(nextProps,nextState)\ncomponentWillUpdate (nextProps,nextState)\nrender()\ncomponentDidUpdate(prevProps,prevState)")]),t._v(" "),s("p",[t._v("3、卸载过程\ncomponentWillUnmount()")]),t._v(" "),s("p",[t._v("其具体作用分别为：\n1、constructor()\n完成了React数据的初始化。")]),t._v(" "),s("p",[t._v("2、componentWillMount()\n组件已经完成初始化数据，但是还未渲染DOM时执行的逻辑，主要用于服务端渲染。")]),t._v(" "),s("p",[t._v("3、componentDidMount()\n组件第一次渲染完成时执行的逻辑，此时DOM节点已经生成了。")]),t._v(" "),s("p",[t._v("4、componentWillReceiveProps(nextProps)\n接收父组件新的props时，重新渲染组件执行的逻辑。")]),t._v(" "),s("p",[t._v("5、shouldComponentUpdate(nextProps, nextState)\n在setState以后，state发生变化，组件会进入重新渲染的流程时执行的逻辑。在这个生命周期中return false可以阻止组件的更新，主要用于性能优化。")]),t._v(" "),s("p",[t._v("6、componentWillUpdate(nextProps, nextState)\nshouldComponentUpdate返回true以后，组件进入重新渲染的流程时执行的逻辑。")]),t._v(" "),s("p",[t._v("7、render()\n页面渲染执行的逻辑，render函数把jsx编译为函数并生成虚拟dom，然后通过其diff算法比较更新前后的新旧DOM树，并渲染更改后的节点。")]),t._v(" "),s("p",[t._v("8、componentDidUpdate(prevProps, prevState)\n重新渲染后执行的逻辑。")]),t._v(" "),s("p",[t._v("9、componentWillUnmount()\n组件的卸载前执行的逻辑，比如进行“清除组件中所有的setTimeout、setInterval等计时器”或“移除所有组件中的监听器removeEventListener”等操作。")]),t._v(" "),s("ul",[s("li",[t._v("react16.3中：\n废除了 componentWillMount, componentWillReceiveProps, componentWillUpdate, 并引入了一个新的生命周期钩子：getDerivedStateFromProps， getSnapshotBeforeUpdate。")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("getDerivedStateFromProps")]),t._v(" "),s("ul",[s("li",[t._v("是一个静态方法，函数内部无法调用 this，防止用户对生命周期的错用和滥用")]),t._v(" "),s("li",[t._v("getDerivedStateFromProps(props, state), 函数内返回一个对象，内部的 state 属性会合并到 state 中")]),t._v(" "),s("li",[t._v("react16.4中，组件任何更新都会触发 getDerivedStateFromProps")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("为什么去掉了那几个旧的生命周期？")]),t._v(" "),s("ul",[s("li",[t._v("为 fiber 架构铺路，把有可能多次执行 render 阶段中的三个方法弃用")]),t._v(" "),s("li",[t._v("使用 static 修饰 getDerivedStateFromProps， 防止用户滥用或错用")])])]),t._v(" "),s("h2",{attrs:{id:"react-key-是干嘛用的-为什么要加-key-主要是解决哪一类问题的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-key-是干嘛用的-为什么要加-key-主要是解决哪一类问题的"}},[t._v("#")]),t._v(" React key 是干嘛用的 为什么要加？key 主要是解决哪一类问题的")]),t._v(" "),s("p",[t._v("公司：滴滴、挖财")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-8"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-8"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("react中key的作用是：在diff算法中判断元素是最新创建的还是被移动来的，从而减少不必要的diff，也就是为了提高diff同级比较的效率，避免原地复用带来的副作用；key是react用来追踪列表的元素被修改，被添加或者是被删除的标识。")]),t._v(" "),s("h2",{attrs:{id:"为什么-usestate-要使用数组而不是对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么-usestate-要使用数组而不是对象"}},[t._v("#")]),t._v(" 为什么 useState 要使用数组而不是对象")]),t._v(" "),s("p",[t._v("公司：伴鱼")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h4",{attrs:{id:"答案-解析-9"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-9"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("因为useState使用的是es6的解构赋值")]),t._v(" "),s("p",[t._v("数组和对象解构赋值的区别：")]),t._v(" "),s("ul",[s("li",[t._v("数组的元素是按次序排列的,数组解构时变量的取值由数组元素的位置决定,变量名可以任意命名。")]),t._v(" "),s("li",[t._v("数组的元素是按次序排列的,数组解构时变量的取值由元素的位置决定,变量名可以任意命名。")]),t._v(" "),s("li",[t._v("对象的属性则没有次序,解构时变量名必须与属性同名才能取到正确的值")]),t._v(" "),s("li",[t._v("因此使用数组会更灵活,可以任意命名state和修改state的方法")])]),t._v(" "),s("h2",{attrs:{id:"说一下单向数据流有什么好处"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下单向数据流有什么好处"}},[t._v("#")]),t._v(" 说一下单向数据流有什么好处")]),t._v(" "),s("p",[t._v("公司：完美世界、酷家乐")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/358",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"说一下对-react-和-vue-的理解-它们的异同"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下对-react-和-vue-的理解-它们的异同"}},[t._v("#")]),t._v(" 说一下对 React 和 Vue 的理解，它们的异同")]),t._v(" "),s("p",[t._v("公司：网易、脉脉、快手")]),t._v(" "),s("p",[t._v("分类：React、Vue")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/347",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"说一下-react-component-和-ract-purecomponent-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下-react-component-和-ract-purecomponent-的区别"}},[t._v("#")]),t._v(" 说一下 React.Component 和 Ract.PureComponent 的区别")]),t._v(" "),s("p",[t._v("公司：高德、有赞、酷家乐")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h4",{attrs:{id:"答案-解析-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-10"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("PureComponent表示一个纯组件，可以用来优化React程序，减少render函数执行的次数，从而提高组件的性能。")]),t._v(" "),s("p",[t._v("在React中，当prop或者state发生变化时，可以通过在shouldComponentUpdate生命周期函数中执行return false来阻止页面的更新，从而减少不必要的render执行。React.PureComponent会自动执行 shouldComponentUpdate。")]),t._v(" "),s("p",[t._v("不过，pureComponent中的 shouldComponentUpdate() 进行的是浅比较，也就是说如果是引用数据类型的数据，只会比较不是同一个地址，而不会比较这个地址里面的数据是否一致。浅比较会忽略属性和或状态突变情况，其实也就是数据引用指针没有变化，而数据发生改变的时候render是不会执行的。如果需要重新渲染那么就需要重新开辟空间引用数据。PureComponent一般会用在一些纯展示组件上。")]),t._v(" "),s("p",[t._v("使用pureComponent的好处：当组件更新时，如果组件的props或者state都没有改变，render函数就不会触发。省去虚拟DOM的生成和对比过程，达到提升性能的目的。这是因为react自动做了一层浅比较。")]),t._v(" "),s("h2",{attrs:{id:"说一下对-react-hook-的理解-它的实现原理-和生命周期有哪些区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下对-react-hook-的理解-它的实现原理-和生命周期有哪些区别"}},[t._v("#")]),t._v(" 说一下对 React Hook 的理解，它的实现原理，和生命周期有哪些区别？")]),t._v(" "),s("p",[t._v("公司：高德")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/311",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"说一下-react-有状态组件与无状态组件区别-以及为什么要用-它的优缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下-react-有状态组件与无状态组件区别-以及为什么要用-它的优缺点"}},[t._v("#")]),t._v(" 说一下 React 有状态组件与无状态组件区别，以及为什么要用，它的优缺点")]),t._v(" "),s("p",[t._v("公司：高德")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/305",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"说一下对-react-context-的理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下对-react-context-的理解"}},[t._v("#")]),t._v(" 说一下对 React context 的理解")]),t._v(" "),s("p",[t._v("公司：脉脉、酷家乐")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-11"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-11"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("在React中，数据传递一般使用props传递数据，维持单向数据流，这样可以让组件之间的关系变得简单且可预测，但是单项数据流在某些场景中并不适用。单纯一对的父子组件传递并无问题，但要是组件之间层层依赖深入，props就需要层层传递显然，这样做太繁琐了。")]),t._v(" "),s("p",[t._v("Context 提供了一种在组件之间共享此类值的方式，而不必显式地通过组件树的逐层传递 props。")]),t._v(" "),s("p",[t._v("可以把context当做是特定一个组件树内共享的store，用来做数据传递。简单说就是，当你不想在组件树中通过逐层传递props或者state的方式来传递数据时，可以使用Context来实现跨层级的组件数据传递。")]),t._v(" "),s("p",[t._v("JS的代码块在执行期间，会创建一个相应的作用域链，这个作用域链记录着运行时JS代码块执行期间所能访问的活动对象，包括变量和函数，JS程序通过作用域链访问到代码块内部或者外部的变量和函数。")]),t._v(" "),s("p",[t._v("假如以JS的作用域链作为类比，React组件提供的Context对象其实就好比一个提供给子组件访问的作用域，而 Context对象的属性可以看成作用域上的活动对象。由于组件 的 Context 由其父节点链上所有组件通 过 getChildContext（）返回的Context对象组合而成，所以，组件通过Context是可以访问到其父组件链上所有节点组件提供的Context的属性。")]),t._v(" "),s("h2",{attrs:{id:"说一下对-react-redux-的理解以及它的原理-主要解决什么问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下对-react-redux-的理解以及它的原理-主要解决什么问题"}},[t._v("#")]),t._v(" 说一下对 React-redux 的理解以及它的原理，主要解决什么问题")]),t._v(" "),s("p",[t._v("公司：阿里、脉脉")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/284",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"对react中fragment的理解-它的使用场景是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对react中fragment的理解-它的使用场景是什么"}},[t._v("#")]),t._v(" 对React中Fragment的理解，它的使用场景是什么？")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-12"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-12"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("在React中，组件返回的元素只能有一个根元素。为了不添加多余的DOM节点，我们可以使用Fragment标签来包裹所有的元素，Fragment标签不会渲染出任何元素。")]),t._v(" "),s("h2",{attrs:{id:"react-如何避免-renderd-的触发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-如何避免-renderd-的触发"}},[t._v("#")]),t._v(" React 如何避免 renderd 的触发")]),t._v(" "),s("p",[t._v("公司：脉脉")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-13"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-13"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("React 基于虚拟 DOM 和高效 Diff 算法的完美配合，实现了对 DOM 最小粒度的更新。大多数情况下，React 对 DOM 的渲染效率足以业务日常。但在个别复杂业务场景下，性能问题依然会困扰我们。此时需要采取一些措施来提升运行性能，其很重要的一个方向，就是避免不必要的渲染（Render）。这里提下优化的点：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("shouldComponentUpdate 和 PureComponent\n在 React 类组件中，可以利用 shouldComponentUpdate或者 PureComponent 来减少因父组件更新而触发子组件的 render，从而达到目的。shouldComponentUpdate 来决定是否组件是否重新渲染，如果不希望组件重新渲染，返回 false 即可。")])]),t._v(" "),s("li",[s("p",[t._v("利用高阶组件\n在函数组件中，并没有 shouldComponentUpdate 这个生命周期，可以利用高阶组件，封装一个类似 PureComponet 的功能")])]),t._v(" "),s("li",[s("p",[t._v("使用 React.memo\nReact.memo 是 React 16.6 新的一个 API，用来缓存组件的渲染，避免不必要的更新，其实也是一个高阶组件，与 PureComponent 十分类似，但不同的是， React.memo只能用于函数组件。")])])]),t._v(" "),s("h2",{attrs:{id:"说一下对-vnode-的理解-vnode-的引入与直接操作原生-dom-相比-哪一个相率更高-为什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下对-vnode-的理解-vnode-的引入与直接操作原生-dom-相比-哪一个相率更高-为什么"}},[t._v("#")]),t._v(" 说一下对 vnode 的理解，vnode 的引入与直接操作原生 dom 相比，哪一个相率更高，为什么")]),t._v(" "),s("p",[t._v("公司：脉脉、菜鸟网络、蘑菇街")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-14"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-14"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("提高开发效率\n使用JavaScript，我们在编写应用程序时的关注点在于如何更新DOM。\n使用React，你只需要告诉React你想让视图处于什么状态，React则通过VitrualDom确保DOM与该状态相匹配。你不必自己去完成属性操作、事件处理、DOM更新，React会替你完成这一切。\n这让我们更关注我们的业务逻辑而非DOM操作，这一点即可大大提升我们的开发效率。")])]),t._v(" "),s("li",[s("p",[t._v('关于提升性能\n直接操作DOM是非常耗费性能的，这一点毋庸置疑。但是React使用VitrualDom也是无法避免操作DOM的。\n如果是首次渲染，VitrualDom不具有任何优势，甚至它要进行更多的计算，消耗更多的内存。\nVitrualDom的优势在于React的Diff算法和批处理策略，React在页面更新之前，提前计算好了如何进行更新和渲染DOM。实际上，这个计算过程我们在直接操作DOM时，也是可以自己判断和实现的，但是一定会耗费非常多的精力和时间，而且往往我们自己做的是不如React好的。所以，在这个过程中React帮助我们"提升了性能"。\n所以，我更倾向于说，VitrualDom帮助我们提高了开发效率，在重复渲染时它帮助我们计算如何更高效的更新，而不是它比DOM操作更快。')])]),t._v(" "),s("li",[s("p",[t._v("跨平台兼容")])])]),t._v(" "),s("h2",{attrs:{id:"react15-16-x-的区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react15-16-x-的区别"}},[t._v("#")]),t._v(" React15/16.x 的区别")]),t._v(" "),s("p",[t._v("公司：百分点")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-15"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-15"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[t._v("react15的架构可以分为两层：")])]),t._v(" "),s("p",[t._v("Reconciler（协调器）— 找出需要更新的组件，以及标识出如何更新")]),t._v(" "),s("p",[t._v("Renderer（渲染器）— 负责将变化后的组件渲染到页面上")]),t._v(" "),s("ul",[s("li",[t._v("react16的架构可以分为三层：")])]),t._v(" "),s("p",[t._v("Scheduler（调度器）— 调度任务的优先级，高级优先级的优先进入Reconciler阶段")]),t._v(" "),s("p",[t._v("Reconciler（协调器）— 找出需要更新的组件，以及标识出如何更新")]),t._v(" "),s("p",[t._v("Renderer（渲染器）— 负责将变化后的组件渲染到页面上")]),t._v(" "),s("p",[t._v("说在前头：")]),t._v(" "),s("p",[t._v("浏览器的16.6ms机制")]),t._v(" "),s("p",[t._v("对人眼来说，正常流畅的刷新率为60hz，即60帧，即浏览器16.6ms刷新一次。")]),t._v(" "),s("p",[t._v("我们知道js可以操作dom元素，所以浏览器的GUI线程和js线程是互斥的。js的执行和浏览器的绘制、布局不能同时进行。所以在每16.6ms内浏览器要执行如下操作：")]),t._v(" "),s("p",[t._v("JS脚本执行 ------ 浏览器样式布局 ------ 浏览器样式绘制")]),t._v(" "),s("p",[t._v("如果js脚本执行时间过长，超过16.6ms，这次刷新中浏览器绘制和布局就无法执行，这就会造成人眼可识别的卡顿，发现操作时浏览器没有“实时”做出反应。如：对于用户在输入框输入内容这个行为来说，就体现为按下了键盘按键但是页面上不实时显示输入。")]),t._v(" "),s("p",[t._v("15和16区别")]),t._v(" "),s("p",[t._v("react15的reconciler是stack-reconciler。即是采用递归形式工作的，是同步的，在生成虚拟dom树并diff过程中是无法中断的。这样在组件层级过深时，会造成js执行时间过长，浏览器无法布局和绘制，造成丢帧。")]),t._v(" "),s("p",[t._v("react16的reconciler是fiber-reconciler。即采用的异步可中断更新代替react15的同步更新，react16的scheduler调度器会告诉reconciler，浏览器是否有空闲时间执行js脚本。这样就不会影响浏览器的绘制和布局工作。不会丢帧。")]),t._v(" "),s("p",[t._v("在react16中，原来的虚拟DOM,因其结构已不能满足异步可中断更新的需求，改而采用新的结构Fiber。虚拟dom节对应变为Fiber节点，虚拟dom树对应变为Fiber树。")]),t._v(" "),s("h2",{attrs:{id:"redux-请求中间件如何处理并发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-请求中间件如何处理并发"}},[t._v("#")]),t._v(" redux 请求中间件如何处理并发")]),t._v(" "),s("p",[t._v("公司：网易")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/528",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-组件中怎么做事件代理-它的原理是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-组件中怎么做事件代理-它的原理是什么"}},[t._v("#")]),t._v(" React 组件中怎么做事件代理？它的原理是什么？")]),t._v(" "),s("p",[t._v("公司：网易")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/525",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-怎么做数据的检查和变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-怎么做数据的检查和变化"}},[t._v("#")]),t._v(" React 怎么做数据的检查和变化")]),t._v(" "),s("p",[t._v("公司：网易")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/521",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-router-里的-link-标签和-a-标签有什么区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-router-里的-link-标签和-a-标签有什么区别"}},[t._v("#")]),t._v(" react-router 里的 Link 标签和 a 标签有什么区别")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/520",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-中-dom-结构发生变化后内部经历了哪些变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-中-dom-结构发生变化后内部经历了哪些变化"}},[t._v("#")]),t._v(" React 中 Dom 结构发生变化后内部经历了哪些变化")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/511",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-挂载的时候有-3-个组件-textcomponent、composecomponent、domcomponent-区别和关系-dom-结构发生变化时怎么区分-data-的变化-怎么更新-更新怎么调度-如果更新的时候还有其他任务存在怎么处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-挂载的时候有-3-个组件-textcomponent、composecomponent、domcomponent-区别和关系-dom-结构发生变化时怎么区分-data-的变化-怎么更新-更新怎么调度-如果更新的时候还有其他任务存在怎么处理"}},[t._v("#")]),t._v(" React 挂载的时候有 3 个组件，textComponent、composeComponent、domComponent，区别和关系，Dom 结构发生变化时怎么区分 data 的变化，怎么更新，更新怎么调度，如果更新的时候还有其他任务存在怎么处理")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/510",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"redux-中间件是什么东西-接受几个参数-柯里化函数两端的参数具体是什么东西"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-中间件是什么东西-接受几个参数-柯里化函数两端的参数具体是什么东西"}},[t._v("#")]),t._v(" Redux 中间件是什么东西？接受几个参数？柯里化函数两端的参数具体是什么东西？")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/508",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"redux-中间件·-中间件是怎么拿到-store-和-action-然后怎么处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-中间件·-中间件是怎么拿到-store-和-action-然后怎么处理"}},[t._v("#")]),t._v(" Redux 中间件· 中间件是怎么拿到 store 和 action？然后怎么处理？")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/507",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"state-是怎么注入到组件的-从-reducer-到组件经历了什么样的过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#state-是怎么注入到组件的-从-reducer-到组件经历了什么样的过程"}},[t._v("#")]),t._v(" state 是怎么注入到组件的，从 reducer 到组件经历了什么样的过程")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/506",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"接入-redux-过程-绑定-connect-的过程-connect-的原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#接入-redux-过程-绑定-connect-的过程-connect-的原理"}},[t._v("#")]),t._v(" 接入 Redux 过程？绑定 connect 的过程？connect 的原理")]),t._v(" "),s("p",[t._v("公司：头条、宝宝树")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/497",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-异步渲染的概念-介绍-time-slicing-和-suspense"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-异步渲染的概念-介绍-time-slicing-和-suspense"}},[t._v("#")]),t._v(" react 异步渲染的概念, 介绍 Time Slicing 和 Suspense")]),t._v(" "),s("p",[t._v("公司：有赞")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/485",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"_16-x-中-props-改变后在哪个生命周期中处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_16-x-中-props-改变后在哪个生命周期中处理"}},[t._v("#")]),t._v(" 16.X 中 props 改变后在哪个生命周期中处理")]),t._v(" "),s("p",[t._v("公司：有赞")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-16"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-16"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("getDerivedStateFromProps")]),t._v(" "),s("h2",{attrs:{id:"介绍下-react-高阶组件-和普通组件有什么区别-适用什么场景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍下-react-高阶组件-和普通组件有什么区别-适用什么场景"}},[t._v("#")]),t._v(" 介绍下 React 高阶组件，和普通组件有什么区别，适用什么场景")]),t._v(" "),s("p",[t._v("公司：有赞、饿了么、喜马拉雅、乘法云")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/476",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"shouldcomponentupdate-是为了解决什么问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shouldcomponentupdate-是为了解决什么问题"}},[t._v("#")]),t._v(" shouldComponentUpdate 是为了解决什么问题")]),t._v(" "),s("p",[t._v("公司：挖财")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[t._v("答案&解析:\nReact组件会根据 shouldComponentUpdate 的返回值来决定是否执行该方法之后的生命周期，进而决定是否对组件进行 re-render（重渲染）")]),t._v(" "),s("h2",{attrs:{id:"react-遇到性能问题一般在哪个生命周期里解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-遇到性能问题一般在哪个生命周期里解决"}},[t._v("#")]),t._v(" React 遇到性能问题一般在哪个生命周期里解决")]),t._v(" "),s("p",[t._v("公司：沪江")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-17"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-17"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[t._v("shouldComponentUpdate")])]),t._v(" "),s("h2",{attrs:{id:"react-redux-中哪些功能用到了哪些设计模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-redux-中哪些功能用到了哪些设计模式"}},[t._v("#")]),t._v(" React/Redux 中哪些功能用到了哪些设计模式")]),t._v(" "),s("p",[t._v("公司：沪江")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/457",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"一个对象数组-每个子对象包含一个-id-和-name-react-如何渲染出全部的-name-在哪个生命周期里写-其中有几个-name-不存在-通过异步接口获取-如何做-渲染的时候-key-给什么值-可以使用-index-吗-用-id-好还是-index-好"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一个对象数组-每个子对象包含一个-id-和-name-react-如何渲染出全部的-name-在哪个生命周期里写-其中有几个-name-不存在-通过异步接口获取-如何做-渲染的时候-key-给什么值-可以使用-index-吗-用-id-好还是-index-好"}},[t._v("#")]),t._v(" 一个对象数组，每个子对象包含一个 id 和 name，React 如何渲染出全部的 name？在哪个生命周期里写？其中有几个 name 不存在，通过异步接口获取，如何做？渲染的时候 key 给什么值？可以使用 index 吗？用 id 好还是 index 好？")]),t._v(" "),s("p",[t._v("公司：饿了么")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/452",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"componentwillreceiveprops-的触发条件是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#componentwillreceiveprops-的触发条件是什么"}},[t._v("#")]),t._v(" componentWillReceiveProps 的触发条件是什么")]),t._v(" "),s("p",[t._v("公司：喜马拉雅")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-18"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-18"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("componentWillReceiveProps在初始化render的时候不会执行，它会在Component接受到新的状态(Props)时被触发，一般用于父组件状态更新时子组件的重新渲染。这个东西十分好用，但是一旦用错也会造成十分严重的后果。")]),t._v(" "),s("h2",{attrs:{id:"介绍-react-设计思路-它的理念是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍-react-设计思路-它的理念是什么"}},[t._v("#")]),t._v(" 介绍 React 设计思路，它的理念是什么？")]),t._v(" "),s("p",[t._v("公司：蘑菇街、海风教育")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-19"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-19"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("React 是用 JavaScript 构建快速响应的大型 Web 应用程序的首选方式。\n理念：快速响应")]),t._v(" "),s("h2",{attrs:{id:"哪些方法会触发-react-重新渲染-重新渲染-render-会做些什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#哪些方法会触发-react-重新渲染-重新渲染-render-会做些什么"}},[t._v("#")]),t._v(" 哪些方法会触发 react 重新渲染？重新渲染 render 会做些什么？")]),t._v(" "),s("p",[t._v("公司：百分点")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-20"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-20"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[t._v("setState")]),t._v(" "),s("li",[t._v("父组件重新渲染")]),t._v(" "),s("li",[t._v("context 变化")])]),t._v(" "),s("h2",{attrs:{id:"state-和-props-触发更新的生命周期分别有什么区别"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#state-和-props-触发更新的生命周期分别有什么区别"}},[t._v("#")]),t._v(" state 和 props 触发更新的生命周期分别有什么区别？")]),t._v(" "),s("p",[t._v("公司：百分点")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-21"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-21"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("state改变会触发 getDerivedStateFromProps + shouldComponentUpdate\nprops改变会触发 getDerivedStateFromProps")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://img-blog.csdnimg.cn/d92d18e6658c47ccbaa8874c2ad1feac.png",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"react-setstate-是同步还是异步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-setstate-是同步还是异步"}},[t._v("#")]),t._v(" React setState 是同步还是异步？")]),t._v(" "),s("p",[t._v("公司：百分点")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h4",{attrs:{id:"答案-解析-22"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-22"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("setState是一个伪异步，即延迟执行但本身还在一个事件循环，所以它的执行顺序在同步代码后、异步代码前。为什么会有这种现象？这就要说到react的合成事件了，react的批处理更新也得益于合成事件，可以试下脱离react事件，使用原生事件（setInterval, setTimeout, 事件）执行setState，你会得到同步的代码。")]),t._v(" "),s("p",[t._v("react18更新：原生事件也是异步更新，合并 state，所有事件全部批处理")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("知识点")]),t._v(" "),s("ul",[s("li",[t._v("不可变值")]),t._v(" "),s("li",[t._v("可能被异步更新")]),t._v(" "),s("li",[t._v("可能被合并")])]),t._v(" "),s("p",[t._v("不能直接对 state 进行赋值\n例如："),s("code",[t._v("this.state.count ++")]),t._v("，应该使用 setState 进行赋值")])]),t._v(" "),s("h2",{attrs:{id:"fiber算法原理-相比之前的stack算法哪些方面做了优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiber算法原理-相比之前的stack算法哪些方面做了优化"}},[t._v("#")]),t._v(" Fiber算法原理，相比之前的stack算法哪些方面做了优化？")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h4",{attrs:{id:"答案-解析-23"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-23"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("Fiber 它的主要特性是增量渲染:能够将渲染工作分割成块，并将其分散到多个帧中。")]),t._v(" "),s("ul",[s("li",[t._v("JS 运算、页面布局和页面绘制都是运行在浏览器的主线程当中，他们之间是互斥的关系。如果 JS 运算持续占用主线程，页面就没法得到及时的更新。当我们调用setState更新页面的时候，React 会遍历应用的所有节点，计算出差异，然后再更新 UI。整个过程是一气呵成，不能被打断的。如果页面元素很多，整个过程占用的时机就可能超过 16 毫秒，就容易出现掉帧的现象。")]),t._v(" "),s("li",[t._v("解决主线程长时间被 JS 运算占用这一问题的基本思路，是将运算切割为多个步骤，分批完成。也就是说在完成一部分任务之后，将控制权交回给浏览器，让浏览器有时间进行页面的渲染。等浏览器忙完之后，再继续之前未完成的任务。")]),t._v(" "),s("li",[t._v("Fiber 树在首次渲染的时候会一次过生成。在后续需要 Diff 的时候，会根据已有树和最新 Virtual DOM 的信息，生成一棵新的树。这颗新树每生成一个新的节点，都会将控制权交回给主线程，去检查有没有优先级更高的任务需要执行。如果过程中有优先级更高的任务需要进行，则 Fiber Reconciler 会丢弃正在生成的树，在空闲的时候再重新执行一遍。")]),t._v(" "),s("li",[t._v("在构造 Fiber 树的过程中，Fiber Reconciler 会将需要更新的节点信息保存在Effect List当中，在阶段二执行的时候，会批量更新相应的节点。")])]),t._v(" "),s("h2",{attrs:{id:"如何实现双向绑定-并抽象成公共组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#如何实现双向绑定-并抽象成公共组件"}},[t._v("#")]),t._v(" 如何实现双向绑定，并抽象成公共组件")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-24"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-24"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" useState "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"react"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxyMap "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WeakMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("observer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" existing "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" proxyMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("existing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" existing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" proxy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Proxy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" receiver"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"object"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 递归处理object类型")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ret "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Reflect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deleteProperty")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ret"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" proxyMap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" proxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReactive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("initialState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" refState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setUpdate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" refProxy "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    initialized"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("refProxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("initialized "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    refProxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("observer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("refState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    refProxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("initialized "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" refProxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" refProxy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("CountDemo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" reactive "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useReactive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div\n      onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        reactive"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      click"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("reactive"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div className"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"App"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("CountDemo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"说一下-redux-的原理-介绍下整体的一个工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#说一下-redux-的原理-介绍下整体的一个工作流程"}},[t._v("#")]),t._v(" 说一下 Redux 的原理，介绍下整体的一个工作流程")]),t._v(" "),s("p",[t._v("公司：脉脉、兑吧、寺库、蘑菇街、百分点")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/283",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"介绍-redux-数据流的流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#介绍-redux-数据流的流程"}},[t._v("#")]),t._v(" 介绍 Redux 数据流的流程")]),t._v(" "),s("p",[t._v("公司：阿里")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/551",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"redux-如何实现多个组件之间的通信-多个组件使用相同状态如何进行管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-如何实现多个组件之间的通信-多个组件使用相同状态如何进行管理"}},[t._v("#")]),t._v(" Redux 如何实现多个组件之间的通信，多个组件使用相同状态如何进行管理")]),t._v(" "),s("p",[t._v("公司：阿里")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/550",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"使用过的-redux-中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用过的-redux-中间件"}},[t._v("#")]),t._v(" 使用过的 Redux 中间件")]),t._v(" "),s("p",[t._v("公司：阿里")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/547",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"redux-的设计思想"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-的设计思想"}},[t._v("#")]),t._v(" redux 的设计思想")]),t._v(" "),s("p",[t._v("公司：头条")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/546",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"react-数据持久化有什么实践吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react-数据持久化有什么实践吗"}},[t._v("#")]),t._v(" React 数据持久化有什么实践吗？")]),t._v(" "),s("p",[t._v("公司：洋葱学院")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/lgwebdream/FE-Interview/issues/238",target:"_blank",rel:"noopener noreferrer"}},[t._v("答案&解析"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"redux-怎么实现属性传递-介绍下原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-怎么实现属性传递-介绍下原理"}},[t._v("#")]),t._v(" Redux 怎么实现属性传递，介绍下原理")]),t._v(" "),s("p",[t._v("公司：喜马拉雅")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案与解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案与解析"}},[t._v("#")]),t._v(" 答案与解析")]),t._v(" "),s("p",[t._v("react-redux 数据传输∶ view--\x3eaction--\x3ereducer--\x3estore--\x3eview。看下点击事件的数据是如何通过redux传到view上：")]),t._v(" "),s("p",[t._v("view 上的AddClick 事件通过mapDispatchToProps 把数据传到action ---\x3e click:()=>dispatch(ADD)\naction 的ADD 传到reducer上\nreducer传到store上 const store = createStore(reducer);\nstore再通过 mapStateToProps 映射穿到view上text:State.text")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" ReactDOM "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-dom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createStore "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'redux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" Provider"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" connect "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react-redux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("App")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" clickR "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("数据"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("已有人"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("click"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("加人"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("clickR"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("减人"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" initialState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("reducer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'REMOVE'")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" initialState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ADD'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" Remove "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'REMOVE'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createStore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("reducer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapStateToProps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    text"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("mapDispatchToProps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("click")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ADD")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("clickR")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("dispatch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Remove"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" App1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mapStateToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mapDispatchToProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Provider store "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("store"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("App1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Provider"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"redux-中异步的请求怎么处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-中异步的请求怎么处理"}},[t._v("#")]),t._v(" Redux 中异步的请求怎么处理")]),t._v(" "),s("p",[t._v("公司：滴滴")]),t._v(" "),s("p",[t._v("分类：React")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-25"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-25"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("p",[t._v("redux-thunk")]),t._v(" "),s("h2",{attrs:{id:"redux-和-vuex-有什么区别-说下一它们的共同思想"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redux-和-vuex-有什么区别-说下一它们的共同思想"}},[t._v("#")]),t._v(" Redux 和 Vuex 有什么区别，说下一它们的共同思想")]),t._v(" "),s("p",[t._v("公司：快手")]),t._v(" "),s("p",[t._v("分类：React、Vue")]),t._v(" "),s("h3",{attrs:{id:"答案-解析-26"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#答案-解析-26"}},[t._v("#")]),t._v(" 答案&解析")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Redux相对于Flux的改进：")]),t._v(" "),s("ul",[s("li",[t._v("把store和Dispatcher合并,结构更加简单清晰")]),t._v(" "),s("li",[t._v("新增state角色，代表每个时间点store对应的值，对状态的管理更加明确\nRedux数据流的顺序是:View调用store.dispatch发起Action->store接受Action(action传入reducer函数,reducer函数返回一个新的state)->通知store.subscribe订阅的重新渲染函数")])])]),t._v(" "),s("li",[s("p",[t._v("Vuex是专门为Vue设计的状态管理框架,同样基于Flux架构，并吸收了Redux的优点\nVuex相对于Redux的不同点有:")])]),t._v(" "),s("li",[s("p",[t._v("改进了Redux中的Action和Reducer函数，以mutations变化函数取代Reducer，无需switch,只需在对应的mutation函数里改变state值即可")])]),t._v(" "),s("li",[s("p",[t._v("由于Vue自动重新渲染的特性，无需订阅重新渲染函数，只要生成新的State即可\nVuex数据流的顺序是:View调用store.commit提交对应的请求到Store中对应的mutation函数->store改变(vue检测到数据变化自动渲染)")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);